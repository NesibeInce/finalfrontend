{"ast":null,"code":"import _regeneratorRuntime from\"/Users/nesy/Desktop/HYF/HYF_HW/8.Final_Project/Complete_Final_Project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/nesy/Desktop/HYF/HYF_HW/8.Final_Project/Complete_Final_Project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/nesy/Desktop/HYF/HYF_HW/8.Final_Project/Complete_Final_Project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import UsersList from'../components/UsersList';import ErrorModal from'../../shared/components/UIElements/ErrorModal';import LoadingSpinner from'../../shared/components/UIElements/LoadingSpinner';import{useHttpClient}from'../../shared/hooks/http-hook';var Users=function Users(){var _useHttpClient=useHttpClient(),isLoading=_useHttpClient.isLoading,error=_useHttpClient.error,sendRequest=_useHttpClient.sendRequest,clearError=_useHttpClient.clearError;var _useState=useState(),_useState2=_slicedToArray(_useState,2),loadedUsers=_useState2[0],setLoadedUsers=_useState2[1];useEffect(function(){var fetchUsers=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var responseData;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return sendRequest(process.env.REACT_APP_BACKEND_URL+'/users');case 3:responseData=_context.sent;setLoadedUsers(responseData.users);_context.next=9;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);case 9:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function fetchUsers(){return _ref.apply(this,arguments);};}();fetchUsers();},[sendRequest]);return React.createElement(React.Fragment,null,React.createElement(ErrorModal,{error:error,onClear:clearError}),isLoading&&React.createElement(\"div\",{className:\"center\"},React.createElement(LoadingSpinner,null)),!isLoading&&loadedUsers&&React.createElement(UsersList,{items:loadedUsers}));};export default Users;","map":{"version":3,"sources":["/Users/nesy/Desktop/HYF/HYF_HW/8.Final_Project/Complete_Final_Project/frontend/src/user/pages/Users.js"],"names":["React","useEffect","useState","UsersList","ErrorModal","LoadingSpinner","useHttpClient","Users","isLoading","error","sendRequest","clearError","loadedUsers","setLoadedUsers","fetchUsers","process","env","REACT_APP_BACKEND_URL","responseData","users"],"mappings":"4kBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CAEA,MAAOC,CAAAA,SAAP,KAAsB,yBAAtB,CACA,MAAOC,CAAAA,UAAP,KAAuB,+CAAvB,CACA,MAAOC,CAAAA,cAAP,KAA2B,mDAA3B,CACA,OAASC,aAAT,KAA8B,8BAA9B,CAEA,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,EAAM,oBACoCD,aAAa,EADjD,CACVE,SADU,gBACVA,SADU,CACCC,KADD,gBACCA,KADD,CACQC,WADR,gBACQA,WADR,CACqBC,UADrB,gBACqBA,UADrB,eAEoBT,QAAQ,EAF5B,wCAEXU,WAFW,eAEEC,cAFF,eAIlBZ,SAAS,CAAC,UAAM,CACd,GAAMa,CAAAA,UAAU,0FAAG,0LAEYJ,CAAAA,WAAW,CAACK,OAAO,CAACC,GAAR,CAAYC,qBAAZ,CAAoC,QAArC,CAFvB,QAETC,YAFS,eAIfL,cAAc,CAACK,YAAY,CAACC,KAAd,CAAd,CAJe,iJAAH,kBAAVL,CAAAA,UAAU,0CAAhB,CAOAA,UAAU,GACX,CATQ,CASN,CAACJ,WAAD,CATM,CAAT,CAWA,MACE,qBAAC,KAAD,CAAO,QAAP,MACE,oBAAC,UAAD,EAAY,KAAK,CAAED,KAAnB,CAA0B,OAAO,CAAEE,UAAnC,EADF,CAEGH,SAAS,EACR,2BAAK,SAAS,CAAC,QAAf,EACE,oBAAC,cAAD,MADF,CAHJ,CAOG,CAACA,SAAD,EAAcI,WAAd,EAA6B,oBAAC,SAAD,EAAW,KAAK,CAAEA,WAAlB,EAPhC,CADF,CAWD,CA1BD,CA4BA,cAAeL,CAAAA,KAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\n\nimport UsersList from '../components/UsersList';\nimport ErrorModal from '../../shared/components/UIElements/ErrorModal';\nimport LoadingSpinner from '../../shared/components/UIElements/LoadingSpinner';\nimport { useHttpClient } from '../../shared/hooks/http-hook';\n\nconst Users = () => {\n  const { isLoading, error, sendRequest, clearError } = useHttpClient();\n  const [loadedUsers, setLoadedUsers] = useState();\n\n  useEffect(() => {\n    const fetchUsers = async () => {\n      try {\n        const responseData = await sendRequest(process.env.REACT_APP_BACKEND_URL + '/users');\n\n        setLoadedUsers(responseData.users);\n      } catch (err) {}\n    };\n    fetchUsers();\n  }, [sendRequest]);\n\n  return (\n    <React.Fragment>\n      <ErrorModal error={error} onClear={clearError} />\n      {isLoading && (\n        <div className=\"center\">\n          <LoadingSpinner />\n        </div>\n      )}\n      {!isLoading && loadedUsers && <UsersList items={loadedUsers} />}\n    </React.Fragment>\n  );\n};\n\nexport default Users;\n"]},"metadata":{},"sourceType":"module"}